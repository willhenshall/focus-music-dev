# Beta v1.6 - Quick Reference

**Build**: 1552 | **Status**: FROZEN | **Date**: Nov 27, 2025

---

## What's Working âœ…

### Core Systems
- âœ… Authentication (email/password)
- âœ… User profiles with avatars
- âœ… Admin role system
- âœ… 37+ audio channels
- âœ… Energy-based playback (low/medium/high)
- âœ… Audio engine with crossfade
- âœ… CDN integration (Bunny CDN)
- âœ… Track library (963+ tracks)

### Advanced Features
- âœ… Slot-based sequencer
- âœ… Onboarding quiz (20+ questions)
- âœ… Brain type classification
- âœ… Personalized recommendations
- âœ… Session timer with bell sounds
- âœ… Slideshow overlay system
- âœ… Image sets management
- âœ… Advanced search with filters
- âœ… Analytics dashboard
- âœ… Bulk operations (upload, delete, assign)
- âœ… CSV metadata import
- âœ… Test automation (Playwright)

### Admin Features
- âœ… User management
- âœ… Channel management
- âœ… Track management
- âœ… Image management
- âœ… Quiz management
- âœ… System settings
- âœ… Test registry

---

## Known Issues ğŸ›

### Critical Bugs
1. **Mobile audio playback** - Not working correctly on iOS/Android
2. **Tab navigation skip** - Audio skips when switching tabs (desktop)

### Minor Issues
- Search requires "Search" button click (no auto-search)
- CDN sync is manual (no auto-sync)
- No offline support
- Bundle size could be smaller (1.27 MB)

---

## Next Priorities ğŸ¯

### Phase 1: Optimization
1. Home page load time optimization
2. Quiz recommender calculation optimization

### Phase 2: Bug Fixes
1. Fix mobile audio playback
2. Fix tab navigation audio skip

---

## Architecture Summary

**Frontend**: React + TypeScript + Vite + Tailwind CSS
**Backend**: Supabase (PostgreSQL)
**Storage**: Supabase Storage (5 buckets)
**CDN**: Bunny CDN (audio delivery)
**Testing**: Playwright

**Key Files:**
- Audio Engine: `src/lib/enterpriseAudioEngine.ts`
- Player Context: `src/contexts/MusicPlayerContext.tsx`
- Quiz Algorithm: `src/lib/quizAlgorithm.ts`
- Slot Engine: `src/lib/slotStrategyEngine.ts`

---

## Database Tables (Core)

- `audio_tracks` - Track metadata (963+ tracks)
- `audio_channels` - Channel definitions (37+ channels)
- `user_profiles` - User data
- `user_preferences` - User settings
- `quiz_questions` - Quiz bank (20+ questions)
- `quiz_results` - User quiz results
- `channel_recommendations` - Personalized recs
- `slot_strategies` - Slot sequencer configs
- `image_sets` - Slideshow images
- `track_analytics` - Track metrics

---

## Storage Buckets

1. `audio-files` - Audio tracks (MP3/WAV)
2. `channel-images` - Channel artwork
3. `slideshow-images` - Slideshow photos
4. `timer-bell-sounds` - Bell audio files
5. `user-photos` - User avatars

---

## Commands

```bash
# Development
npm run dev                 # Start dev server

# Build
npm run build              # Production build

# Testing
npm run test               # Run all tests
npm run test:headed        # Run tests with browser
npm run test:debug         # Debug tests

# Database
npm run import-seed        # Import seed data
npm run export-seed        # Export database

# Maintenance
npm run cleanup-duplicates # Clean duplicate tracks
npm run backfill-metadata  # Update track metadata
```

---

## Environment Variables

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_anon_key
```

---

## User Flows

### New User
1. Land on page (preview track plays)
2. Sign up
3. Take quiz (optional)
4. Get recommendations
5. Browse channels
6. Start session with timer
7. Listen with slideshow

### Returning User
1. Log in
2. See personalized dashboard
3. Resume favorite channel
4. Adjust energy level
5. Configure timer/bell
6. Manage preferences

### Admin User
1. Access admin dashboard
2. Upload new tracks
3. Create/edit channels
4. Manage users
5. View analytics
6. Configure system settings

---

## Performance Baselines (v1.6)

- **Bundle Size**: 1.27 MB (gzipped: 288 KB)
- **CSS Size**: 58.77 KB (gzipped: 9.48 KB)
- **Initial Load**: ~3-4 seconds
- **Time to Interactive**: ~4-5 seconds
- **Audio Start**: < 1 second (desktop)
- **Track Change**: < 500ms (with preload)

**Targets for v1.7:**
- Bundle: < 1.0 MB
- Initial Load: < 2 seconds
- Time to Interactive: < 3 seconds

---

## Browser Support

**Tested:**
- âœ… Chrome 120+ (Desktop)
- âœ… Firefox 120+ (Desktop)
- âœ… Safari 17+ (Desktop)
- âœ… Edge 120+ (Desktop)
- âš ï¸ Safari iOS (Issues)
- âš ï¸ Chrome Android (Issues)

**Recommended:**
- Chrome 120+ on Desktop
- Modern browser with JavaScript enabled
- Stable internet connection

---

## Deployment Checklist

- [ ] Build passes: `npm run build`
- [ ] Tests pass: `npm run test`
- [ ] TypeCheck passes: `npm run typecheck`
- [ ] Environment variables set
- [ ] Supabase migrations applied
- [ ] CDN configured (optional)
- [ ] Storage buckets created
- [ ] RLS policies enabled
- [ ] Admin user created
- [ ] Test on production URL

---

## Support

**Documentation:**
- `BETA_V1.6_BUILD_1552_DOCUMENTATION.md` - Full feature docs
- `POST_V1.6_ROADMAP.md` - Future plans
- `README.md` - Setup instructions

**Common Issues:**
- Audio not playing? Check browser audio permissions
- Quiz not loading? Clear browser cache
- Upload failing? Check file size (<100MB)
- Login issues? Check Supabase Auth config

---

## Key Metrics

**Content:**
- 963+ audio tracks
- 37+ channels
- 20+ quiz questions
- 50+ searchable fields
- 5 storage buckets
- 15+ edge functions

**Performance:**
- 200k+ token budget (documentation)
- 1600+ modules transformed
- 12s build time
- 0 TypeScript errors
- 95%+ test coverage (critical paths)

---

**Last Updated**: November 27, 2025
**Next Review**: After Phase 1 Optimization Complete
